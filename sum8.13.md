# 8.13学习总结🗼🗼🗼🗼
# 一、中断
1. 抢占优先级和子优先级（响应优先级）：抢占优先级决定能否打断其他中断，子优先级决定，相同抢占优先级的中断到来时，谁先进行。高抢占优先级可以打断低抢占优先级的中断，实现中断嵌套，高子优先级不能打断低子优先级的中断。相同抢占优先级的中断同时到来，通过子优先级的高低来判断谁先进行。
2. 五种优先级分组，0分组只有子优先级，4分组只有抢占优先级，中间三组递推的顺序混合。
# 二、TIM时钟定时器
1. 它接收一个时钟信号（来自APB总线时钟）。通过预分频器PSC先把时钟分慢一点。计数器将每个时钟脉冲 +1，计到自动重装载寄存器ARR的值时，计时器清零（重新开始计数）。触发一个更新事件，如果开启了中断，就会触发中断。
2. 定时器可以周期性的触发中断，定时的时间公式：定时时间=（PSC+1）*（ARR+1）/f（定时器的输入时钟频率,单位：hz）。
3. HAL_TIM_Base_Start_IT(&htim1);启动定时器开启中断。
4. 调用中断函数，自动生成，只需填充定时器需要完成的任务。
    ```
    void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim)
    {
        if(htim->Instance == TIM2)
        {
            // 定时任务
          printf("time \n");
        }
    }
5. 不同定时器的区别：高速计时器TIM1 TIM8,通用定时器TIM2-5。
# 三、定时器实现PWM信号
1. PWM信号：使用固定频率的方波调节占空比，输出脉冲信号。占空比：高电平所占时间比例。常用于电机、舵机、LED等。
2. 使用定时器输出PWM信号：配置好定时器的参数，启动PWM
   ```
   HAL_TIM_PWM_Start(&htim3, TIM_CHANNEL_1);//pwm启动
   _HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_1, value);//通过比较寄存器的值来调节占空比，从而调节对应引脚连接设备的高低电平输出。
3. 利用for循环逐渐递增递减占空比，来实现led灯的呼吸灯效果。




 
